<div class="container w-50 d-flex justify-content-center">
  <%= form_with model: @project_user, url: project_users_path do |f| %>
    <%= f.hidden_field :project_id, value: @project.id %>
    <div class="mb-3">
      <%= f.label :user_id, t(".member"), class: "form-label" %>
      <div data-controller="select2">
        <%= f.select :user_id, list_users, { include_blank: true,
                                             selected: params[:user_id] },
                     class: "select2 form-control-modal #{invalid(f.object, :user)}" %>
      </div>
      <p class="error"><%= show_errors(f.object, :user) %></p>
    </div>
    <div class="mb-3">
      <%= f.label :project_role_id, t(".role"), class: "form-label" %>
      <%= f.select :project_role_id, list_roles, { include_blank: true,
                                                   selected: params[:project_role_id] },
                   class: "form-control-modal #{invalid(f.object, :project_role)}" %>
      <p class="error"><%= show_errors(f.object, :project_role) %></p>
    </div>
    <div class="mb-3">
      <%= f.label :joined_at, t(".joined_at"), class: "form-label" %>
      <%= f.date_field :joined_at, class: "form-control-modal #{invalid(f.object, :joined_at)}" %>
      <p class="error"><%= show_errors(f.object, :joined_at) %></p>
    </div>
    <div class="mb-3">
      <%= f.label :left_at, t(".left_at"), class: "form-label" %>
      <%= f.date_field :left_at, class: "form-control-modal #{invalid(f.object, :left_at)}" %>
      <p class="error"><%= show_errors(f.object, :left_at) %></p>
    </div>
    <div class="mb-3">
      <%= f.label :note, t(".note"), class: "form-label" %>
      <%= f.text_area :note, class: "form-control-modal #{invalid(f.object, :note)}" %>
      <p class="error"><%= show_errors(f.object, :note) %></p>
    </div>

    <%= f.submit t(".submit"), class: "btn btn-primary" %>
    <%= link_to t(".close"), "#", class: "btn btn-danger", data: {
      controller: "modals",
      action: "modals#close"
    } %>
  <% end %>
</div>
